<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Predict 2</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootbox.js/5.4.0/bootbox.min.js"></script>

	<!-- CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.css">
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <link rel="stylesheet" href={{ url_for('static', filename="/css/style.css")}} type="text/css">
    <link rel="stylesheet" href={{ url_for('static', filename='/css/clash-display.css') }}  type="text/css">

	<!-- JavaScript -->
    <script src={{ url_for('static', filename='/js/jquery_3.6.0.min.js') }} ></script>
    <script src={{ url_for('static', filename='/js/client_side.js') }} ></script>
    <script src={{ url_for('static', filename='/js/bootstrap_3.4.1.min.js') }} ></script>
</head>

<body data-bs-spy="scroll" data-bs-target=".navbar">

    <!-- NAVBAR -->
    <nav class="navbar navbar-expand-lg bg-white sticky-top">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src={{ url_for('static', filename="/images/1.png")}}>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/about">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/news">News</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="/NewsDetection">NewsDetection</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Bagian Halaman (Informasi) -->
	<div id="informasi" class="container-fluid">
		<br>
		<div class="row" style="margin-left:35px">
			<div class="col-sm-6">
				<h2>PredictNews App</h2>
				<p style="text-align: justify;text-justify: inter-word;">
                    Perancangan aplikasi ini dibuat untuk mendeteksi keaslian isi dari sebuah berita. Dataset yang digunakan untuk model klasifikasi berita ini adalah news-collection.csv. Pada dataset tersebut terdapat berita atau informasi palsu, seperti clickbait (headline berita yang tidak sesuai dengan isi berita), disinformasi (informasi yang menyesatkan publik), misinformasi (informasi palsu dari motif yang sebenarnya), dan bentuk lainnya. Dalam menggunakan aplikasi ini pengguna dapat memilih sebuah artikel berita yang relevan sesuai dengan minat atau berita yang disukainya, pengguna dapat langsung memastikan berita tersebut benar atau tidak (misinformasi) dengan menyalin beberapa kalimat atau sebuah paragraf dari berita tersebut lalu menaruhnya ke dalam form aplikasi deteksi dan menekan tombol prediksi untuk melihat hasilnya.
				</p>
				<br>

				<!-- Tombol Mulai -->
				<nav id="navgo" class="navbar" style="background-color:#ffffff;z-index: 0;">
					<ul class="nav nav-pills">
						<li class="nav-item">
							<a class="btn btn-brand ms-lg-3" href="#aplikasi">Mulai</a>
						</li>
					</ul>
				</nav>

			</div>
			<div class="col-sm-6">
				<br>
				<br>
				<!-- Gambar Deskripsi Aplikasi -->
				<div align="center">
					<img src={{ url_for('static', filename='/images/fakenews-display.JPG') }} height="300"></img>
				</div>
			</div>
		</div>
		<br>
	</div>

    <!-- APPLICATION -->
    <div align="center" style="margin-top: 50px;" class="container" id="aplikasi">
		<div class="card bg-transparent">
			<div class="card-header bg-transparent">
				<p id="source" data-text="PredictNews App!"></p>
				<h1 id="dest"></h1>
			</div><br>
			<div class="card-body bg-transparent">
				<form><br>
					<textarea type="text" class="form-control bg-dark text-white" name="news" id="news" placeholder="Enter news here!" rows="5"></textarea><br>
					<button type="submit" class="btn btn-brand ms-lg-3" name="submit" id="submit">Predict</button>
				</form>
			</div>
  		</div>	
  	</div>
      <br>
      <br>


    <!-- FOOTER -->
    <footer class="bg-dark">
        <div class="footer-top">
            <div class="container">
                <div class="row gy-5">
                    <div class="col-lg-3 col-sm-6">
                        <a href="#"><img src={{ url_for('static', filename="/images/Predict.png")}}></a>
                        <div class="line"></div>
                            <div class="social-icons">
                            <a href="#"><i class="ri-twitter-fill"></i></a>
                            <a href="#"><i class="ri-instagram-fill"></i></a>
                            <a href="#"><i class="ri-github-fill"></i></a>
                            <a href="#"><i class="ri-dribbble-fill"></i></a>
                        </div>
                    </div>
                    <div class="col-lg-3 col-sm-6" style="margin-top:70px">
                        <h5 class="mb-0 text-white">Location</h5>
                        <div class="line"></div>
                        <ul>
                            <li>Jakarata, Indonesia</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js"></script>
	<script src="https://unpkg.com/aos@next/dist/aos.js"></script>
	<script src={{ url_for('static', filename="/js/main.js")}}></script>
</body>
</html>

<script>
	var source = $('#source').attr('data-text');
	var dest   = $('#dest');
	function typeWriter(text, n) {
	    if (n < (text.length)) {
	        dest.html(text.substring(0, n+1));
	        n++;
	        setTimeout(function() {
	            typeWriter(text, n)
	        }, 150);
		}
	}

	typeWriter(source, 0);

	$SCRIPT_ROOT = "{{ url_for('newscheck') }}";
	$(function() {
		$('#submit').bind('click', function() {
			var news = $('#news').val(); 
			if(news === "" || news === " " || news === "\n" || news === null){
		    	bootbox.alert({
      			 	size: "big",
    				title: "EMPTY FIELD",
				    message: "Please enter some news!",
				    backdrop: true
				});
	      	}
	      	else{
	      		$.getJSON($SCRIPT_ROOT, {
		        	news: news,
		      	}, function(data) {
		      		if(data.result == "REAL"){
		      			var src = "static/images/success.gif";
		      		}
		      		else{
		      			var src = "static/images/fail.gif";
		      		}
		      		bootbox.alert({
	      			 	size: "big",
	    				title: "Prediction",
					    message: "<div align='center'><h2>News is "+data.result+"</h2><img style='width:240px;height:232px;' src='"+src+"'/></div>",
					    backdrop: true,
					    callback: function(){ 
					    	setTimeout(function(){
							    //do what you need here
							    location.reload();
							}, 100);
					    	 
					    }
					});
		      	});
	      	}
	      	return false;
	    });
	});
</script>